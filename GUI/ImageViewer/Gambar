
/**
 * Write a description of class Gambar here.
 *
 * @author (your name)
 * @version (a version number or a date)
 */
import javax.imageio.ImageIO;
import java.awt.*;
import java.awt.image.BufferedImage;
import java.io.File;

public class Gambar extends BaseModel {

    private BufferedImage img;

    private Gambar(BufferedImage img) {
        this.img = img;
    }

    public static Gambar load(File file) {
        try {
            BufferedImage bi = ImageIO.read(file);
            if (bi == null) return null;
            return new Gambar(bi);
        } catch (Exception e) {
            return null;
        }
    }

    public BufferedImage getImage() { return img; }
    public int getW() { return img.getWidth(); }
    public int getH() { return img.getHeight(); }

    public void darker() {
        for (int y = 0; y < img.getHeight(); y++)
            for (int x = 0; x < img.getWidth(); x++) {
                Color c = new Color(img.getRGB(x, y));
                img.setRGB(x, y, c.darker().getRGB());
            }
    }

    public void lighter() {
        for (int y = 0; y < img.getHeight(); y++)
            for (int x = 0; x < img.getWidth(); x++) {
                Color c = new Color(img.getRGB(x, y));
                img.setRGB(x, y, c.brighter().getRGB());
            }
    }

    public void threshold() {
        for (int y = 0; y < img.getHeight(); y++)
            for (int x = 0; x < img.getWidth(); x++) {
                Color p = new Color(img.getRGB(x, y));
                int b = (p.getRed() + p.getGreen() + p.getBlue()) / 3;
                Color out = (b < 85) ? Color.BLACK : (b < 170) ? Color.GRAY : Color.WHITE;
                img.setRGB(x, y, out.getRGB());
            }
    }
}
